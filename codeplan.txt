Code plan

main.py
    game
    reddit

    def main
        - inst game
        - inst reddit
        - Unit.load_units
        - run loop
        
    def loop
        - mainloop
        - wait for comment in sticky
        - Reddit.wait_for_comment
        - Game.parse_command 
    
unit.py
    cost_mult
    
    class Unit
        id
        name
        short_name
        init_cost
        init_profit
        init_time
        amount
        
        cooldown
    
        def __init__(id, name, short_name, init_cost, init_profit, init_time)
        def get_profit
            - for adding karma, returns profit*amount
        def get_cost(quantity)
            - for buying, returns cost*cost_mult^amount
        def buy(game, user, quantity)
            - if enough karma
            - increase amount, decrease karma
            - reset_cooldown
        def reset_cooldown
            - set cooldown to init_time
        def check_cooldown
            - subtract dt from cooldown
            - return true if cooldown < 0
            - set cooldown to 0
        def update_cooldown
        
game.py
    def load_game
        - Game.load_units
        - returns game obj
        

    class Game
        karma
        lifetime_karma
        runtime
        units[]
    
        def __init__

        def load_units
            - loads units from jsons in /units/
            - return units[]
        def get_karma
            - return karma
        def add_karma(user, karma)
            - add karma (after a post/comment)
            - User.add_karma
        def buy_unit(user, unit_name, quantity)
            - check all units for name, try to buy
            - User.add_purchase
            - Reddit.reply_to_command
        def post(user, unit_name)
            - find unit
            - Unit.check_cooldown
            - Unit.get_profit
            - add_karma
        def parse_command(command)
            - converts text into actions
            - if user not in memory, create
            - buy_unit / post
        def save_file
            - save karma, lifetime_karma, runtime
        def load_file
            - load karma, lifetime_karma, runtime
            
reddit.py
    class Reddit
        def __init__
            - login to reddit
            
        def get_comment
        
        def update_op
        def remove_comment
            - delete a non-command comment in the sticky
        def reply_to_command
            - reply success/fail to a command
        def set_flair
            - set a user's flair to their karma contribution
        def wait_for_comment
            - waits until comment is found
            - goes recursive if comment not in thread
            
user.py
    class User
        name
        karma
        purchases[]
    
        def __init__
            - set name
            - try load file / create file
        def get_flair
            - get flair to use in Reddit.set_flair
            - karma, #purchases
        def create_file
            - create save file
        def load_file
            - load save file
        def save
            - save to save file
        def add_purchase(id, quantity)
            - add id to list if not already there
            - add amount
        def add_karma
            - add karma after user posted / commented